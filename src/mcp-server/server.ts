/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { PolarCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { MCPScope, mcpScopes } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$advertisementsGet } from "./tools/advertisementsGet.js";
import { tool$advertisementsList } from "./tools/advertisementsList.js";
import { tool$benefitsCreate } from "./tools/benefitsCreate.js";
import { tool$benefitsDelete } from "./tools/benefitsDelete.js";
import { tool$benefitsGet } from "./tools/benefitsGet.js";
import { tool$benefitsGrants } from "./tools/benefitsGrants.js";
import { tool$benefitsList } from "./tools/benefitsList.js";
import { tool$benefitsUpdate } from "./tools/benefitsUpdate.js";
import { tool$checkoutLinksCreate } from "./tools/checkoutLinksCreate.js";
import { tool$checkoutLinksDelete } from "./tools/checkoutLinksDelete.js";
import { tool$checkoutLinksGet } from "./tools/checkoutLinksGet.js";
import { tool$checkoutLinksList } from "./tools/checkoutLinksList.js";
import { tool$checkoutLinksUpdate } from "./tools/checkoutLinksUpdate.js";
import { tool$checkoutsClientConfirm } from "./tools/checkoutsClientConfirm.js";
import { tool$checkoutsClientGet } from "./tools/checkoutsClientGet.js";
import { tool$checkoutsClientUpdate } from "./tools/checkoutsClientUpdate.js";
import { tool$checkoutsCreate } from "./tools/checkoutsCreate.js";
import { tool$checkoutsGet } from "./tools/checkoutsGet.js";
import { tool$checkoutsList } from "./tools/checkoutsList.js";
import { tool$checkoutsUpdate } from "./tools/checkoutsUpdate.js";
import { tool$customerPortalDownloadablesGet } from "./tools/customerPortalDownloadablesGet.js";
import { tool$customerPortalLicenseKeysActivate } from "./tools/customerPortalLicenseKeysActivate.js";
import { tool$customerPortalLicenseKeysDeactivate } from "./tools/customerPortalLicenseKeysDeactivate.js";
import { tool$customerPortalLicenseKeysValidate } from "./tools/customerPortalLicenseKeysValidate.js";
import { tool$customerPortalOrganizationsGet } from "./tools/customerPortalOrganizationsGet.js";
import { tool$customersCreate } from "./tools/customersCreate.js";
import { tool$customersDelete } from "./tools/customersDelete.js";
import { tool$customerSessionsCreate } from "./tools/customerSessionsCreate.js";
import { tool$customersGet } from "./tools/customersGet.js";
import { tool$customersList } from "./tools/customersList.js";
import { tool$customersUpdate } from "./tools/customersUpdate.js";
import { tool$customFieldsCreate } from "./tools/customFieldsCreate.js";
import { tool$customFieldsDelete } from "./tools/customFieldsDelete.js";
import { tool$customFieldsGet } from "./tools/customFieldsGet.js";
import { tool$customFieldsList } from "./tools/customFieldsList.js";
import { tool$customFieldsUpdate } from "./tools/customFieldsUpdate.js";
import { tool$discountsCreate } from "./tools/discountsCreate.js";
import { tool$discountsDelete } from "./tools/discountsDelete.js";
import { tool$discountsGet } from "./tools/discountsGet.js";
import { tool$discountsList } from "./tools/discountsList.js";
import { tool$discountsUpdate } from "./tools/discountsUpdate.js";
import { tool$eventsGet } from "./tools/eventsGet.js";
import { tool$eventsIngest } from "./tools/eventsIngest.js";
import { tool$eventsList } from "./tools/eventsList.js";
import { tool$externalOrganizationsList } from "./tools/externalOrganizationsList.js";
import { tool$filesCreate } from "./tools/filesCreate.js";
import { tool$filesDelete } from "./tools/filesDelete.js";
import { tool$filesList } from "./tools/filesList.js";
import { tool$filesUpdate } from "./tools/filesUpdate.js";
import { tool$filesUploaded } from "./tools/filesUploaded.js";
import { tool$licenseKeysGet } from "./tools/licenseKeysGet.js";
import { tool$licenseKeysGetActivation } from "./tools/licenseKeysGetActivation.js";
import { tool$licenseKeysList } from "./tools/licenseKeysList.js";
import { tool$licenseKeysUpdate } from "./tools/licenseKeysUpdate.js";
import { tool$metersCreate } from "./tools/metersCreate.js";
import { tool$metersEvents } from "./tools/metersEvents.js";
import { tool$metersGet } from "./tools/metersGet.js";
import { tool$metersList } from "./tools/metersList.js";
import { tool$metersQuantities } from "./tools/metersQuantities.js";
import { tool$metersUpdate } from "./tools/metersUpdate.js";
import { tool$metricsGet } from "./tools/metricsGet.js";
import { tool$metricsLimits } from "./tools/metricsLimits.js";
import { tool$oauth2Authorize } from "./tools/oauth2Authorize.js";
import { tool$oauth2ClientsCreate } from "./tools/oauth2ClientsCreate.js";
import { tool$oauth2ClientsDelete } from "./tools/oauth2ClientsDelete.js";
import { tool$oauth2ClientsGet } from "./tools/oauth2ClientsGet.js";
import { tool$oauth2ClientsList } from "./tools/oauth2ClientsList.js";
import { tool$oauth2ClientsUpdate } from "./tools/oauth2ClientsUpdate.js";
import { tool$oauth2Introspect } from "./tools/oauth2Introspect.js";
import { tool$oauth2Revoke } from "./tools/oauth2Revoke.js";
import { tool$oauth2Token } from "./tools/oauth2Token.js";
import { tool$oauth2Userinfo } from "./tools/oauth2Userinfo.js";
import { tool$ordersGet } from "./tools/ordersGet.js";
import { tool$ordersInvoice } from "./tools/ordersInvoice.js";
import { tool$ordersList } from "./tools/ordersList.js";
import { tool$organizationsCreate } from "./tools/organizationsCreate.js";
import { tool$organizationsGet } from "./tools/organizationsGet.js";
import { tool$organizationsList } from "./tools/organizationsList.js";
import { tool$organizationsUpdate } from "./tools/organizationsUpdate.js";
import { tool$productsCreate } from "./tools/productsCreate.js";
import { tool$productsGet } from "./tools/productsGet.js";
import { tool$productsList } from "./tools/productsList.js";
import { tool$productsUpdate } from "./tools/productsUpdate.js";
import { tool$productsUpdateBenefits } from "./tools/productsUpdateBenefits.js";
import { tool$refundsCreate } from "./tools/refundsCreate.js";
import { tool$refundsList } from "./tools/refundsList.js";
import { tool$repositoriesGet } from "./tools/repositoriesGet.js";
import { tool$repositoriesList } from "./tools/repositoriesList.js";
import { tool$repositoriesUpdate } from "./tools/repositoriesUpdate.js";
import { tool$subscriptionsExport } from "./tools/subscriptionsExport.js";
import { tool$subscriptionsGet } from "./tools/subscriptionsGet.js";
import { tool$subscriptionsList } from "./tools/subscriptionsList.js";
import { tool$subscriptionsRevoke } from "./tools/subscriptionsRevoke.js";
import { tool$subscriptionsUpdate } from "./tools/subscriptionsUpdate.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  accessToken?: SDKOptions["accessToken"] | undefined;
  server?: SDKOptions["server"] | undefined;
}) {
  const server = new McpServer({
    name: "Polar",
    version: "0.27.0",
  });

  const client = new PolarCore({
    accessToken: deps.accessToken,
    serverURL: deps.serverURL,
    server: deps.server,
  });
  const scopes = new Set(deps.scopes ?? mcpScopes);
  const tool = createRegisterTool(deps.logger, server, client, scopes);

  tool(tool$externalOrganizationsList);
  tool(tool$repositoriesList);
  tool(tool$repositoriesGet);
  tool(tool$repositoriesUpdate);
  tool(tool$organizationsList);
  tool(tool$organizationsCreate);
  tool(tool$organizationsGet);
  tool(tool$organizationsUpdate);
  tool(tool$subscriptionsList);
  tool(tool$subscriptionsExport);
  tool(tool$subscriptionsGet);
  tool(tool$subscriptionsUpdate);
  tool(tool$subscriptionsRevoke);
  tool(tool$advertisementsList);
  tool(tool$advertisementsGet);
  tool(tool$oauth2Authorize);
  tool(tool$oauth2Token);
  tool(tool$oauth2Revoke);
  tool(tool$oauth2Introspect);
  tool(tool$oauth2Userinfo);
  tool(tool$benefitsList);
  tool(tool$benefitsCreate);
  tool(tool$benefitsGet);
  tool(tool$benefitsUpdate);
  tool(tool$benefitsDelete);
  tool(tool$benefitsGrants);
  tool(tool$productsList);
  tool(tool$productsCreate);
  tool(tool$productsGet);
  tool(tool$productsUpdate);
  tool(tool$productsUpdateBenefits);
  tool(tool$ordersList);
  tool(tool$ordersGet);
  tool(tool$ordersInvoice);
  tool(tool$refundsList);
  tool(tool$refundsCreate);
  tool(tool$checkoutsList);
  tool(tool$checkoutsCreate);
  tool(tool$checkoutsGet);
  tool(tool$checkoutsUpdate);
  tool(tool$checkoutsClientGet);
  tool(tool$checkoutsClientUpdate);
  tool(tool$checkoutsClientConfirm);
  tool(tool$filesList);
  tool(tool$filesCreate);
  tool(tool$filesUploaded);
  tool(tool$filesUpdate);
  tool(tool$filesDelete);
  tool(tool$metricsGet);
  tool(tool$metricsLimits);
  tool(tool$licenseKeysList);
  tool(tool$licenseKeysGet);
  tool(tool$licenseKeysUpdate);
  tool(tool$licenseKeysGetActivation);
  tool(tool$checkoutLinksList);
  tool(tool$checkoutLinksCreate);
  tool(tool$checkoutLinksGet);
  tool(tool$checkoutLinksUpdate);
  tool(tool$checkoutLinksDelete);
  tool(tool$customFieldsList);
  tool(tool$customFieldsCreate);
  tool(tool$customFieldsGet);
  tool(tool$customFieldsUpdate);
  tool(tool$customFieldsDelete);
  tool(tool$discountsList);
  tool(tool$discountsCreate);
  tool(tool$discountsGet);
  tool(tool$discountsUpdate);
  tool(tool$discountsDelete);
  tool(tool$customersList);
  tool(tool$customersCreate);
  tool(tool$customersGet);
  tool(tool$customersUpdate);
  tool(tool$customersDelete);
  tool(tool$customerSessionsCreate);
  tool(tool$eventsList);
  tool(tool$eventsGet);
  tool(tool$eventsIngest);
  tool(tool$metersList);
  tool(tool$metersCreate);
  tool(tool$metersGet);
  tool(tool$metersUpdate);
  tool(tool$metersEvents);
  tool(tool$metersQuantities);
  tool(tool$oauth2ClientsList);
  tool(tool$oauth2ClientsCreate);
  tool(tool$oauth2ClientsGet);
  tool(tool$oauth2ClientsUpdate);
  tool(tool$oauth2ClientsDelete);
  tool(tool$customerPortalDownloadablesGet);
  tool(tool$customerPortalLicenseKeysValidate);
  tool(tool$customerPortalLicenseKeysActivate);
  tool(tool$customerPortalLicenseKeysDeactivate);
  tool(tool$customerPortalOrganizationsGet);

  return server;
}
