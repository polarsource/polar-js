/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { remap as remap$ } from "../../lib/primitives.js";
import {
    BenefitGrantProperties,
    BenefitGrantProperties$inboundSchema,
    BenefitGrantProperties$Outbound,
    BenefitGrantProperties$outboundSchema,
} from "./benefitgrantproperties.js";
import * as z from "zod";

/**
 * A grant of a benefit to a user.
 */
export type BenefitGrant = {
    /**
     * Creation timestamp of the object.
     */
    createdAt: Date;
    /**
     * Last modification timestamp of the object.
     */
    modifiedAt: Date | null;
    /**
     * The ID of the grant.
     */
    id: string;
    /**
     * The timestamp when the benefit was granted. If `None`, the benefit is not granted.
     */
    grantedAt?: Date | null | undefined;
    /**
     * Whether the benefit is granted.
     */
    isGranted: boolean;
    /**
     * The timestamp when the benefit was revoked. If `None`, the benefit is not revoked.
     */
    revokedAt?: Date | null | undefined;
    /**
     * Whether the benefit is revoked.
     */
    isRevoked: boolean;
    /**
     * The properties of the grant.
     */
    properties: BenefitGrantProperties;
    /**
     * The ID of the subscription that granted this benefit.
     */
    subscriptionId: string | null;
    /**
     * The ID of the order that granted this benefit.
     */
    orderId: string | null;
    /**
     * The ID of the user concerned by this grant.
     */
    userId: string;
    /**
     * The ID of the benefit concerned by this grant.
     */
    benefitId: string;
};

/** @internal */
export const BenefitGrant$inboundSchema: z.ZodType<BenefitGrant, z.ZodTypeDef, unknown> = z
    .object({
        created_at: z
            .string()
            .datetime({ offset: true })
            .transform((v) => new Date(v)),
        modified_at: z.nullable(
            z
                .string()
                .datetime({ offset: true })
                .transform((v) => new Date(v))
        ),
        id: z.string(),
        granted_at: z
            .nullable(
                z
                    .string()
                    .datetime({ offset: true })
                    .transform((v) => new Date(v))
            )
            .optional(),
        is_granted: z.boolean(),
        revoked_at: z
            .nullable(
                z
                    .string()
                    .datetime({ offset: true })
                    .transform((v) => new Date(v))
            )
            .optional(),
        is_revoked: z.boolean(),
        properties: BenefitGrantProperties$inboundSchema,
        subscription_id: z.nullable(z.string()),
        order_id: z.nullable(z.string()),
        user_id: z.string(),
        benefit_id: z.string(),
    })
    .transform((v) => {
        return remap$(v, {
            created_at: "createdAt",
            modified_at: "modifiedAt",
            granted_at: "grantedAt",
            is_granted: "isGranted",
            revoked_at: "revokedAt",
            is_revoked: "isRevoked",
            subscription_id: "subscriptionId",
            order_id: "orderId",
            user_id: "userId",
            benefit_id: "benefitId",
        });
    });

/** @internal */
export type BenefitGrant$Outbound = {
    created_at: string;
    modified_at: string | null;
    id: string;
    granted_at?: string | null | undefined;
    is_granted: boolean;
    revoked_at?: string | null | undefined;
    is_revoked: boolean;
    properties: BenefitGrantProperties$Outbound;
    subscription_id: string | null;
    order_id: string | null;
    user_id: string;
    benefit_id: string;
};

/** @internal */
export const BenefitGrant$outboundSchema: z.ZodType<
    BenefitGrant$Outbound,
    z.ZodTypeDef,
    BenefitGrant
> = z
    .object({
        createdAt: z.date().transform((v) => v.toISOString()),
        modifiedAt: z.nullable(z.date().transform((v) => v.toISOString())),
        id: z.string(),
        grantedAt: z.nullable(z.date().transform((v) => v.toISOString())).optional(),
        isGranted: z.boolean(),
        revokedAt: z.nullable(z.date().transform((v) => v.toISOString())).optional(),
        isRevoked: z.boolean(),
        properties: BenefitGrantProperties$outboundSchema,
        subscriptionId: z.nullable(z.string()),
        orderId: z.nullable(z.string()),
        userId: z.string(),
        benefitId: z.string(),
    })
    .transform((v) => {
        return remap$(v, {
            createdAt: "created_at",
            modifiedAt: "modified_at",
            grantedAt: "granted_at",
            isGranted: "is_granted",
            revokedAt: "revoked_at",
            isRevoked: "is_revoked",
            subscriptionId: "subscription_id",
            orderId: "order_id",
            userId: "user_id",
            benefitId: "benefit_id",
        });
    });

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace BenefitGrant$ {
    /** @deprecated use `BenefitGrant$inboundSchema` instead. */
    export const inboundSchema = BenefitGrant$inboundSchema;
    /** @deprecated use `BenefitGrant$outboundSchema` instead. */
    export const outboundSchema = BenefitGrant$outboundSchema;
    /** @deprecated use `BenefitGrant$Outbound` instead. */
    export type Outbound = BenefitGrant$Outbound;
}
